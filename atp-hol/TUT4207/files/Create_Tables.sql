CREATE TABLE  "PATIENT_INSURANCE" 
   (	"PATIENT_ID" NUMBER(38,0), 
	"MEMBER_ID" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"GROUP_NUMBER" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"RX_BIN" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"IMAGE_URL" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	 CONSTRAINT "PATIENT_INSURANCE_PK" PRIMARY KEY ("MEMBER_ID")
  USING INDEX  ENABLE
   )  DEFAULT COLLATION "USING_NLS_COMP"
/
CREATE TABLE  "PATIENT_LAB" 
   (	"PATIENT_LAB_ID" NUMBER, 
	"PATIENT_ID" NUMBER, 
	"PRACTITIONER_ID" NUMBER, 
	"HEALTHCARE_FACILITY_ID" NUMBER, 
	"LAB_ID" NUMBER, 
	"DATE_TIME" DATE
   )  DEFAULT COLLATION "USING_NLS_COMP"
/
CREATE TABLE  "LAB" 
   (	"LAB_CATEGORY" VARCHAR2(100) COLLATE "USING_NLS_COMP", 
	"LAB_NAME" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"NORMAL_RANGE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LAB_ID" NUMBER
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

ALTER TABLE  "LAB" ADD PRIMARY KEY ("LAB_ID")
  USING INDEX  ENABLE
/
CREATE TABLE  "PRACTITIONER" 
   (	"PRACTITIONER_ID" NUMBER, 
	"PRACTITIONER_NAME" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"CITY" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"STATE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"COUNTY" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"DISCIPLINE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"SPECIALTY" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"PRACTICE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"ISRURAL" NUMBER(38,0), 
	"HEALTHCARE_FACILITY_ID" NUMBER, 
	"ZIPCODE" VARCHAR2(100) COLLATE "USING_NLS_COMP"
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

ALTER TABLE  "PRACTITIONER" ADD PRIMARY KEY ("PRACTITIONER_ID")
  USING INDEX  ENABLE
/
CREATE TABLE  "HEALTHCARE_FACILITY" 
   (	"HEALTHCARE_FACILITY_ID" NUMBER(38,0), 
	"FACILITY_NAME" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"ADDRESS" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"CITY" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"ZIPCODE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"COUNTY_CODE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"COUNTY_NAME" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LICENSE_TYPE_DESC" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LICENSE_CATEGORY_DESC" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LATITUDE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LONGITUDE" VARCHAR2(1000) COLLATE "USING_NLS_COMP"
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

ALTER TABLE  "HEALTHCARE_FACILITY" ADD PRIMARY KEY ("HEALTHCARE_FACILITY_ID")
  USING INDEX  ENABLE
/
CREATE TABLE  "PATIENT" 
   (	"PATIENT_ID" NUMBER(38,0), 
	"FIRST_NAME" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LAST_NAME" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"ADDRESS" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"CITY" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"STATE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"COUNTY" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"ZIPCODE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LONGITUDE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"LATITUDE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"PRACTITIONER_ID" NUMBER
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

ALTER TABLE  "PATIENT" ADD PRIMARY KEY ("PATIENT_ID")
  USING INDEX  ENABLE
/
CREATE TABLE  "PATIENT_VISIT" 
   (	"PATIENT_VISIT_ID" NUMBER, 
	"PATIENT_ID" NUMBER, 
	"PRACTITIONER_ID" NUMBER, 
	"HEALTHCARE_FACILITY_ID" NUMBER, 
	"ROOM_ID" VARCHAR2(100) COLLATE "USING_NLS_COMP", 
	"DATE_TIME" DATE
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

ALTER TABLE  "PATIENT_VISIT" ADD PRIMARY KEY ("PATIENT_VISIT_ID")
  USING INDEX  ENABLE
/
CREATE TABLE  "PATIENT_DOCUMENTS" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"PATIENT_VISIT_ID" NUMBER NOT NULL ENABLE, 
	"TITLE" VARCHAR2(500 CHAR) COLLATE "USING_NLS_COMP", 
	"DOCUMENT" BLOB, 
	"MIMETYPE" VARCHAR2(250 CHAR) COLLATE "USING_NLS_COMP", 
	"FILENAME" VARCHAR2(200 CHAR) COLLATE "USING_NLS_COMP", 
	"CREATED" DATE NOT NULL ENABLE, 
	"CREATED_BY" VARCHAR2(255 CHAR) COLLATE "USING_NLS_COMP" NOT NULL ENABLE, 
	"UPDATED" DATE NOT NULL ENABLE, 
	"UPDATED_BY" VARCHAR2(255 CHAR) COLLATE "USING_NLS_COMP" NOT NULL ENABLE, 
	 CONSTRAINT "DOCUMENTS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "PATIENT_DOCUMENTS_BIU" 
    before insert or update   
    on "PATIENT_DOCUMENTS"  
    for each row  
begin  
    if inserting then  
        :new.created := sysdate;  
        :new.created_by := coalesce(sys_context('APEX$SESSION','APP_USER'),user);  
    end if;  
    :new.updated := sysdate;  
    :new.updated_by := coalesce(sys_context('APEX$SESSION','APP_USER'),user);  
end documents_biu;  
  

/
ALTER TRIGGER  "PATIENT_DOCUMENTS_BIU" ENABLE
/
